<VirtualHost *:80>
    ServerName acc-centerparcs.fundament.nl
    ServerAlias dev.reservierung.centerparcsimmobilien.de
    ServerAlias dev.reservation.centerparcs-investment.com
    ServerAlias dev.reserveren.centerparcs-vastgoed.nl
    ServerAlias dev.reserveren.centerparcs-vastgoed.be
    ServerAlias dev.reservation.centerparcs-immobilier.be

    RewriteEngine On
    RewriteCond %{REQUEST_URI} !^/\.well\-known/acme\-challenge/
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R=301,L]
</VirtualHost>

<VirtualHost *:443>
    ServerName acc-centerparcs.fundament.nl
    ServerAlias dev.reservierung.centerparcsimmobilien.de
    ServerAlias dev.reservation.centerparcs-investment.com
    ServerAlias dev.reserveren.centerparcs-vastgoed.be
    ServerAlias dev.reservation.centerparcs-immobilier.be

    SSLEngine on
    SSLCertificateFile /etc/ssl/private/letsencrypt/acc-centerparcs.fundament.nl.pem
    SSLCertificateKeyFile /etc/ssl/private/letsencrypt/acc-centerparcs.fundament.nl.pem
    SSLCertificateChainFile /etc/ssl/private/letsencrypt/acc-centerparcs.fundament.nl.pem

    WSGIDaemonProcess pierrevacances lang='en_US.UTF-8' locale='en_US.UTF-8' processes=2 threads=2 display-name=pierrevacances home=/data/www/acc-pierrevacances python-path=/data/www/acc-pierrevacances:/data/www/virtualenvs/pierrevacances/lib/python3.4/site-packages
    WSGIProcessGroup pierrevacances
    WSGIApplicationGroup pierrevacances
    WSGIScriptAlias / /data/www/acc-pierrevacances/bookingsystem/wsgi.py
    WSGIScriptReloading On

    <Directory /data/www/acc-pierrevacances/bookingsystem/>
    <Files wsgi.py>
        Require all granted
    </Files>
    </Directory>

    Alias /static/     /data/www/acc-pierrevacances/site_static/
    Alias /media/      /data/www/acc-pierrevacances/photos/
    Alias /robots.txt  /data/www/acc-pierrevacances/robots.txt
    Alias /favicon.ico /data/www/acc-pierrevacances/site_static/favicon.ico

    <Directory /data/www/acc-pierrevacances/site_static/ >
        Require all granted
        Options -Indexes
    </Directory>
    <Directory /data/www/acc-pierrevacances/photos/ >
        Require all granted
        Options -Indexes
    </Directory>

    ErrorLog /var/log/apache2/acc-pierrevacances-error.log
    LogLevel warn
    CustomLog /var/log/apache2/acc-pierrevacances-access.log combined

</VirtualHost>
